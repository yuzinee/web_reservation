<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="userReservationDAO">
    <select id="selectRoomList" resultType="Map" parameterType="String">
        SELECT *
		FROM TB_ROOM
    </select>
    
    <insert id="insertReservationList">
        INSERT INTO TB_RESER (
       		reser_dt
          , room_nm
          , reser_prc
          , pay_yn
        ) VALUES
        <foreach collection="date" item="date" index="index" separator=",">
            <foreach collection="room" item="room" index="index2" separator=",">
                (
                	#{date}
                  , #{room.room_nm}
                  , #{room.room_prc}
                  , 'N'
                )
            </foreach>
        </foreach>
    </insert>
    
    <select id="selectRoomListPayN" resultType="Map" parameterType="String">
	    SELECT room_nm AS title
	    	,  reser_dt AS date
		FROM TB_RESER
		WHERE PAY_YN = 'N'
	</select>
</mapper>